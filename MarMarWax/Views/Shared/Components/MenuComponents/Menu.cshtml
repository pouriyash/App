@using App.DomainModels.Dto.Product
@{
    List<ProductTypeDTO> productTypes = ViewBag.productTypes;
}

<style>
    
    /*General Menu Styling*/
    .mainnav {
        margin: 0 auto
    }

    li {
        list-style: none;
    }

        li a {
            text-decoration: none;
        }

    .dropdown {
        position: absolute;
        width: 150px;
        top: 60px;
        opacity: 0;
        visibility: hidden;
        transition: ease-out .35s;
        -moz-transition: ease-out .35s;
        -webkit-transition: ease-out .35s;
    }

    .mainnav li {
        float: right;
        padding: 5px;
        border-left: 1px solid tomato;
    }

        .mainnav li:last-child {
            border: none;
        }

        .mainnav li a {
            display: block;
            padding: 2px 60px;
            color: black;
            font-family: arial;
        }

        .mainnav li:hover {
            background: tomato;
            transition: ease-in .35s;
            -moz-transition: ease-in .35s;
            -webkit-transition: ease-in .35s;
        }

            .mainnav li:hover a {
                color: white;
                transition: ease-in .35s;
                -moz-transition: ease-in .35s;
                -webkit-transition: ease-in .35s;
            }
    /*First Level*/
    .subs {
        left: -57px;
        position: relative;
        top: 5px;
        width: 175px;
        border-right: none !important;
        border-bottom: 1px dotted #fff !important;
    }

        .subs:last-child {
            border: none !important;
        }

    .hassubs:hover .dropdown, .hassubs .hassubs:hover .dropdown {
        opacity: 1;
        visibility: visible;
        transition: ease-in .35s;
        -moz-transition: ease-in .35s;
        -webkit-transition: ease-in .35s;
    }

    .mainnav li:hover ul a, .mainnav li:hover ul li ul li a {
        color: tomato; 
        background-color:whitesmoke;
    }

    .mainnav li ul li:hover, .mainnav li ul li ul li:hover {
        color: white;
        background: tomato;
        transition: ease-in-out .35s;
        -moz-transition: ease-in-out .35s;
        -webkit-transition: ease-in-out .35s;
    }

        .mainnav li ul li:hover a, .mainnav li ul li ul li:hover a {
            color: white;
            background: tomato;
            transition: ease-in-out .35s;
            -moz-transition: ease-in-out .35s;
            -webkit-transition: ease-in-out .35s;
        }
    /*Second Level*/
    .hassubs .hassubs .dropdown .subs {
        right: 20px;
        position: relative;
        border-right: 2px solid white;
        width: 195px;
        top: 0px;
    }

    .hassubs .hassubs .dropdown {
        position: absolute;
        width: 150px;
        right: 120px;
        top: 0px;
        opacity: 0;
        visibility: hidden;
        transition: ease-out .35s;
        -moz-transition: ease-out .35s;
        -webkit-transition: ease-out .35s;
    }
</style>


<div class="main">
    <ul class="mainnav">

        <li class="hassubs">
            <a href="~/Home/Index">صفحه اصلی</a>
        </li>
        <li class="hassubs">
            <a href="#">محصولات</a>
            <ul class="dropdown">
                @foreach (var item in productTypes.Where(p => p.ParentId == null))
                {
                    <li class="subs hassubs">
                        @if (productTypes.Any(p => p.ParentId.HasValue && p.ParentId.Value == item.Id))
                        {
                            <a>@item.Title</a>
                            <ul class="dropdown">
                                @foreach (var item2 in productTypes.Where(p => p.ParentId.HasValue && p.ParentId.Value == item.Id))
                                {
                                    <li class="subs"><a asp-action="Index" asp-controller="product" asp-route-ProductTypeId="@item2.Id">@item2.Title</a></li>
                                }
                            </ul>

                        }
                        else
                        {

                            <a asp-action="Index" asp-controller="product" asp-route-ProductTypeId="@item.Id">@item.Title</a>

                        }
                    </li>
                }
            </ul>
        </li>

        <li class="hassubs">
            <a href="~/Home/about">درباره ما</a>
        </li>

        <li class="hassubs">
            <a href="~/Home/About">مقالات</a>
        </li>
        <li class="hassubs">
            <a href="~/ContactUs/Index">ارتباط با ما</a>
        </li>


    </ul>
    <br style="clear: both;">
</div>









 